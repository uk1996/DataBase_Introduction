## 1. 관계 데이터 모델의 개념

#### 1. 관계 데이터 모델의 기본 용어

- 릴레이션(relation)
  - 일반적으로 관계 데이터 모델에서는 하나의 개체에 관한 데이터를 릴레이션 하나에 담아 데이터베이스에 저장한다.

<br/>

- 속성(attribute)
  - 릴레이션의 열을 의미
  - 서로 다른 이름을 이용해 구별한다.
  - 릴레이션은 파일 관리 시스템의 파일, 속성은 해당 파일의 필드(field)에 대응하는 개념

<br/>

- 투플(tuple)
  - 릴레이션의 행을 의미
    - 파일 관리 시스템의 관점에서 해당 파일의 레코드에 대응하는 개념

<br/>

- 도메인(domain)
  - 속성 하나가 가질 수 있는 모든 값의 집합
  - 관계 데이터 모델에서는 더는 분해할 수 없는 원자 값만 속성 값으로 사용할 수 있다.
  - 도메인은 가능한 값을 일일이 나열하기 어려운 경우가 대부분이라 일반적으로 속성의 특성을 고려한 데이터 타입으로 정의

<br/>

- 널(null) 값
  - 릴레이션에 특정 투플의 속성 값을 모르거나, 적합한 값이 없는 경우에는 사용
  - 널 값은 특정 속성에 해당되는 값이 없음을 나타내므로 숫자 0이나 공백 문자와는 다르다.

<br/>

- 차수(degree)
  - 하나의 릴레이션에서 속성의 전체 개수
  - 모든 릴레이션은 최소 1 이상의 차수를 유지해야 한다.
  - 릴레이션의 차수는 일반적으로 자주 변하지 않는다는 정적인 특징이 있다.

<br/>

- 카디널리티(cardinality)
  - 하나의 릴레이션에서 투플 전체의 개수
  - 카디널리티가 0 일 수도 있다.
  - 새로운 투플이 계속 삽입되거나 기존 투플이 삭제될 수 있으므로 릴레이션의 카디널리티는 일반적으로 자주 변한다는 동적인 특징이 있다.

#### 2. 릴레이션과 데이터베이스의 구성

- 관계 데이터 모델에서 릴레이션은 릴레이션 스키마와 릴레이션 인스턴스로 구성되어 있다.

<br/>

- 릴레이션 스키마(relation shema)
  - 릴레이션의 이름과 릴레이션에 포함된 모든 속성의 이름으로 정의하는 릴레이션의 논리적 구조
    - ex> 릴레이션이름(속성이름1, 속성이름2, ... , 속성이름n)
  - 릴레이션 스키마는 릴레이션 내포(relation intension)라고도 부른다
  - 자주 변하지 않는다는 정적인 특징이 있다.

<br/>

- 릴레이션 인스턴스(relation instance)
  - 어느 한 시점에 릴레이션에 존재하는 투플들의 집합
  - 릴레이션 인스턴스는 간단히 릴레이션이라 부르기도 하고 릴레이션 외연(relation extension)이라고도 부른다.
  - 투플의 삽입/삭제/수정이 자주 발생한다는 동적인 특징이 있다.

<br/>

- 데이터베이스 스키마와 데이터베이스 인스턴스
  - 데이터베이스 스키마
    - 데이터베이스를 구성하는 릴레이션들의 스키마를 모아놓은 것.
    - 특정 데이터베이스 스키마를 설계한다는 것은 필요한 모든 릴레이션의 스키마를 모두 정의한다는 뜻
  - 데이터베이스 인스턴스
    - 어느 한 시점에서 데이터베이스에 저장된 데이터 내용의 전체 집합
    - 데이터베이스를 구성하는 모든 릴레이션의 인스턴스를 인스턴스를 모아놓은 것

#### 3. 릴레이션의 특성

1. 투플의 유일성: 하나의 릴레이션에는 동일한 투플이 존재할 수 없다.
   - 하나의 릴레이션에 똑같은 투플이 있으면 안 되고, 모든 투플에는 다른 투플과 구별되는 유일한 특성이 있어야 한다.
   - 관계 데이터 모델의 릴레이션에서는 하나 또는 여러 개의 속성을 미리 선정해두고 이 속성 값을 투플마다 다르게 지정하여 투플의 유일성을 판단한다.

<br/>

2. 투플의 무순서: 하나의 릴레이션에서 투플 사이의 순서는 무의미하다.

<br/>

3. 속성의 무순서: 하나의 릴레이션에서 속성 사이의 순서는 무의미하다.

<br/>

4. 속성의 원자성: 속성 값으로 원자 값만 사용할 수 있다.
   - 모든 속성 값은 더는 분해할 수 없는 하나의 값, 즉 원자 값만 가질 수 있다.

#### 4. 키의 종류

- 투플을 유일하게 구별하기 위해 모든 속성을 이용하는 것보다 일부 속성만 이용하는 것이 효율적이다.
- 릴레이션에 포함된 투플들을 유일하게 구별해주는 역할은 속성 또는 속성들의 집합인 **키**(key)가 담당한다.
  - 관계 데이터 모델에서는 키를 슈퍼키, 후보키, 기본키, 대체키, 외래키 다섯 가지로 분류할 수 있다.

<br/>

- 슈퍼키(super key)
  - 유일성의 특성을 만족하는 속성 또는 속성들의 집합
    - 유일성은 키가 갖추어야 하는 기본 특성으로, 하나의 릴레이션에서 키로 지정된 속성 값은 투플마다 달라야 한다는 의미

<br/>

- 후보키(cnadidate key)
  - 유일성과 최소성을 만족하는 속성 또는 속성들의 집합
    - 최소성은 꼭 필요한 최소한의 속성들로만 키를 구성하는 특성
  - 슈퍼키 중에서 최소성을 최소성을 만족하는 것이 후보키가 된다.

<br/>

- 기본키(primary key)
  - 데이터베이스 설계자나 관리자는 여러 후보키 중에서 기본적으로 사용할 키를 반드시 선택해야 하는데 이것이 **기본키**다.
  - 선택한 기본키는 속성 이름에 밑줄을 그어 표현한다.
  - 기본키를 선택할 때 고려하면 도움이 되는 기준
    - 널 값을 가질 수 있는 속성이 포함된 후보키는 기본키로 부적합하다.
    - 값이 자주 변경될 수 있는 속성이 포함된 후보키는 기본키로 부적합하다.
    - 단순한 후보키를 기본키로 선택한다.
      - 단순한 후보키는 자릿수가 적은 정수나 단순 문자열인 속성으로 구성되거나, 구성하는 속성의 개수가 적은 후보키다.

<br/>

- 대체키(alternate key)
  - 기본키로 선택되지 못한 후보키들

<br/>

- 외래키(foreign key)
  - 어떤 릴레이션에 소속된 속성 또는 속성 집합이 다른 릴레이션의 기본키가 되는 키, 다시 말해 다른 릴레이션의 기본키를 그대로 참조하는 속성의 집합이 외래키다.
  - 외래키가 되는 속성과 기본키가 되는 속성의 이름은 달라도 된다.
  - 외래키 속성의 도메인과 참조되는 기본키 속성의 도메인은 반드시 같아야한다.
    - 도메인이 같아야 연관성 있는 투플을 찾기 위한 비교 연산이 가능하다.
  - 외래키는 반드시 다른 릴레이션의 기본키를 참조해야 하며 외래키의 도메인은 참조되는 기본키와 같게 정의되어야 한다.
  - 참조하는 릴레이션과 참조되는 릴레이션이 같을 수도 있다.
  - 외래키는 기본키를 참조하지만 기본키가 아니기 때문에 널 값을 가질 수 있다.
  - 외래키는 기본키가 아니기 때문에 서로 다른 투플이 같은 값을 가질 수 있다.
